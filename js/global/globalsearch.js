var pagesData=null;var getPagesData=function getPagesData(){if(pagesData===null){$.getJSON("/allpages.json",function(A){pagesData=A})}else{return pagesData}};$(document).ready(function(){$.ajaxSetup({cache:true});getPagesData();$("#global-search").keyup(globalsearch);$("#global-search").click(globalsearch);$("#global-search").focusout(function(A){clearSearchResultsWithDelay()})});var globalsearch=function globalsearch(){var B=$("#global-search").val();$("#global-search-results").removeClass("open");$("#global-search-results > .dropdown-menu").empty();var A=new Array();if(B!=""){$.each(getPagesData().pages,function(C,E){var D=false;if(E.page.title.toUpperCase().indexOf(B.toUpperCase())>=0){A[A.length]=E.page;D=true}if(!D){$.each(E.page.tags,function(G,F){if(F.toUpperCase().indexOf(B.toUpperCase())>=0){D=true}});if(D){A[A.length]=E.page}}});$.each(A,function(C,D){$("#global-search-results > .dropdown-menu").append("<li><a href="+D.uri+">"+D.title+"</a></li>")})}if(A.length>0){$("#global-search-results").addClass("open")}};var clearSearchResultsWithDelay=function(){window.setTimeout(function(){$("#global-search-results").removeClass("open");$("#global-search-results > .dropdown-menu").empty()},100)};